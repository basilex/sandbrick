-- ===================================
-- V1__schema_core.sql
-- Core schema: country, currency, country_currency
-- ===================================

CREATE TABLE currency (
    id VARCHAR(24) PRIMARY KEY,
    name VARCHAR(255) NOT NULL UNIQUE,
    code VARCHAR(10) NOT NULL UNIQUE,
    symbol VARCHAR(10) NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE NOT NULL
);

CREATE TABLE country (
    id VARCHAR(24) PRIMARY KEY,
    name VARCHAR(255) NOT NULL UNIQUE,
    iso2 VARCHAR(2) NOT NULL UNIQUE,
    iso3 VARCHAR(3) NOT NULL UNIQUE,
    code VARCHAR(10) NOT NULL UNIQUE,
    created_at TIMESTAMP WITH TIME ZONE NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE NOT NULL
);

CREATE TABLE country_currency (
    country_id VARCHAR(24) NOT NULL,
    currency_id VARCHAR(24) NOT NULL,
    PRIMARY KEY (country_id, currency_id),
    FOREIGN KEY (country_id) REFERENCES country(id) ON DELETE CASCADE,
    FOREIGN KEY (currency_id) REFERENCES currency(id) ON DELETE CASCADE
);

-- === Countries ===
INSERT INTO country (id, name, iso2, iso3, code, created_at, updated_at) VALUES
  ('c7f0e0a1e9r0c001', 'Ukraine', 'UA', 'UKR', '380', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c002', 'United States', 'US', 'USA', '001', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c003', 'Germany', 'DE', 'DEU', '049', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c004', 'France', 'FR', 'FRA', '033', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c005', 'Canada', 'CA', 'CAN', '002', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c006', 'Japan', 'JP', 'JPN', '081', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c007', 'Italy', 'IT', 'ITA', '039', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c008', 'Spain', 'ES', 'ESP', '034', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c009', 'Brazil', 'BR', 'BRA', '055', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c010', 'Sweden', 'SE', 'SWE', '046', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c011', 'Norway', 'NO', 'NOR', '047', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c012', 'Finland', 'FI', 'FIN', '358', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c013', 'Netherlands', 'NL', 'NLD', '031', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c014', 'Belgium', 'BE', 'BEL', '032', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c015', 'Denmark', 'DK', 'DNK', '045', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c016', 'Switzerland', 'CH', 'CHE', '041', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c017', 'Austria', 'AT', 'AUT', '043', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c018', 'Australia', 'AU', 'AUS', '061', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c019', 'New Zealand', 'NZ', 'NZL', '064', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c020', 'Czech Republic', 'CZ', 'CZE', '420', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c021', 'Slovakia', 'SK', 'SVK', '421', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c022', 'Hungary', 'HU', 'HUN', '036', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c023', 'Romania', 'RO', 'ROU', '040', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c024', 'Greece', 'GR', 'GRC', '030', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c025', 'Turkey', 'TR', 'TUR', '090', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c026', 'Croatia', 'HR', 'HRV', '385', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c027', 'Slovenia', 'SI', 'SVN', '386', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c028', 'Serbia', 'RS', 'SRB', '381', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c029', 'Ireland', 'IE', 'IRL', '372', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('c7f0e0a1e9r0c030', 'Portugal', 'PT', 'PRT', '351', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC');

-- === Currencies ===
INSERT INTO currency (id, name, code, symbol, created_at, updated_at) VALUES
  ('cx0usd01xidr0001', 'US Dollar', 'USD', '$', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0eur01xidr0002', 'Euro', 'EUR', '€', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0uah01xidr0003', 'Ukrainian Hryvnia', 'UAH', '₴', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0jpy01xidr0004', 'Japanese Yen', 'JPY', '¥', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0gbp01xidr0005', 'British Pound', 'GBP', '£', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0cad01xidr0006', 'Canadian Dollar', 'CAD', 'C$', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0aud01xidr0007', 'Australian Dollar', 'AUD', 'A$', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0nzd01xidr0008', 'New Zealand Dollar', 'NZD', 'NZ$', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0brl01xidr0009', 'Brazilian Real', 'BRL', 'R$', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0sek01xidr0010', 'Swedish Krona', 'SEK', 'kr', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0nok01xidr0011', 'Norwegian Krone', 'NOK', 'kr', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0dkk01xidr0012', 'Danish Krone', 'DKK', 'kr', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0chf01xidr0013', 'Swiss Franc', 'CHF', 'CHF', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0czk01xidr0014', 'Czech Koruna', 'CZK', 'Kč', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0huf01xidr0015', 'Hungarian Forint', 'HUF', 'Ft', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0ron01xidr0016', 'Romanian Leu', 'RON', 'lei', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0try01xidr0017', 'Turkish Lira', 'TRY', '₺', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0hrk01xidr0018', 'Croatian Kuna', 'HRK', 'kn', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0rsd01xidr0019', 'Serbian Dinar', 'RSD', 'din', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0pln01xidr0020', 'Polish Zloty', 'PLN', 'zł', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0ils01xidr0021', 'Israeli Shekel', 'ILS', '₪', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0zar01xidr0022', 'South African Rand', 'ZAR', 'R', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0inr01xidr0023', 'Indian Rupee', 'INR', '₹', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0cny01xidr0024', 'Chinese Yuan', 'CNY', '¥', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0krw01xidr0025', 'South Korean Won', 'KRW', '₩', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0sgd01xidr0026', 'Singapore Dollar', 'SGD', 'S$', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0mxn01xidr0027', 'Mexican Peso', 'MXN', '$', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0ars01xidr0028', 'Argentine Peso', 'ARS', '$', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0clp01xidr0029', 'Chilean Peso', 'CLP', '$', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC'),
  ('cx0vnd01xidr0030', 'Vietnamese Dong', 'VND', '₫', CURRENT_TIMESTAMP AT TIME ZONE 'UTC', CURRENT_TIMESTAMP AT TIME ZONE 'UTC');

-- === Country-Currency Mapping ===
INSERT INTO country_currency (country_id, currency_id) VALUES
  ('c7f0e0a1e9r0c001', 'cx0uah01xidr0003'),
  ('c7f0e0a1e9r0c002', 'cx0usd01xidr0001'),
  ('c7f0e0a1e9r0c003', 'cx0eur01xidr0002'),
  ('c7f0e0a1e9r0c004', 'cx0eur01xidr0002'),
  ('c7f0e0a1e9r0c005', 'cx0cad01xidr0006'),
  ('c7f0e0a1e9r0c006', 'cx0jpy01xidr0004'),
  ('c7f0e0a1e9r0c007', 'cx0eur01xidr0002'),
  ('c7f0e0a1e9r0c008', 'cx0eur01xidr0002'),
  ('c7f0e0a1e9r0c009', 'cx0brl01xidr0009'),
  ('c7f0e0a1e9r0c010', 'cx0sek01xidr0010'),
  ('c7f0e0a1e9r0c011', 'cx0nok01xidr0011'),
  ('c7f0e0a1e9r0c012', 'cx0eur01xidr0002'),
  ('c7f0e0a1e9r0c013', 'cx0eur01xidr0002'),
  ('c7f0e0a1e9r0c014', 'cx0eur01xidr0002'),
  ('c7f0e0a1e9r0c015', 'cx0dkk01xidr0012'),
  ('c7f0e0a1e9r0c016', 'cx0chf01xidr0013'),
  ('c7f0e0a1e9r0c017', 'cx0eur01xidr0002'),
  ('c7f0e0a1e9r0c018', 'cx0aud01xidr0007'),
  ('c7f0e0a1e9r0c019', 'cx0nzd01xidr0008'),
  ('c7f0e0a1e9r0c020', 'cx0czk01xidr0014'),
  ('c7f0e0a1e9r0c021', 'cx0eur01xidr0002'),
  ('c7f0e0a1e9r0c022', 'cx0huf01xidr0015'),
  ('c7f0e0a1e9r0c023', 'cx0ron01xidr0016'),
  ('c7f0e0a1e9r0c024', 'cx0eur01xidr0002'),
  ('c7f0e0a1e9r0c025', 'cx0try01xidr0017'),
  ('c7f0e0a1e9r0c026', 'cx0hrk01xidr0018'),
  ('c7f0e0a1e9r0c027', 'cx0eur01xidr0002'),
  ('c7f0e0a1e9r0c028', 'cx0rsd01xidr0019'),
  ('c7f0e0a1e9r0c029', 'cx0eur01xidr0002'),
  ('c7f0e0a1e9r0c030', 'cx0eur01xidr0002');
